(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f305986"],{"0569":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.mensaje.color},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(" "+e._s(e.mensaje.texto)+" ")]),e.editar?a("form",{on:{submit:function(t){return t.preventDefault(),e.editarTarea(e.tareaEditar)}}},[a("h1",[e._v("Editar nueva tarea")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tareaEditar.nombre,expression:"tareaEditar.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Tarea"},domProps:{value:e.tareaEditar.nombre},on:{input:function(t){t.target.composing||e.$set(e.tareaEditar,"nombre",t.target.value)}}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tareaEditar.descripcion,expression:"tareaEditar.descripcion"}],attrs:{name:"textarea",rows:"5",placeholder:"Descripción"},domProps:{value:e.tareaEditar.descripcion},on:{input:function(t){t.target.composing||e.$set(e.tareaEditar,"descripcion",t.target.value)}}}),a("b-button",{staticClass:"btn-warning my-2 btn-block",attrs:{type:"@submit"}},[e._v(" Editar ")]),a("b-button",{staticClass:"my-2 ",attrs:{type:"@submit"},on:{click:function(t){e.editar=!1}}},[e._v(" Cancelar ")])],1):e._e(),e.editar?e._e():a("form",{on:{submit:function(t){return t.preventDefault(),e.agregaTarea()}}},[a("h1",[e._v("Agrega una tarea")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tarea.nombre,expression:"tarea.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Tarea"},domProps:{value:e.tarea.nombre},on:{input:function(t){t.target.composing||e.$set(e.tarea,"nombre",t.target.value)}}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tarea.descripcion,expression:"tarea.descripcion"}],attrs:{name:"textarea",rows:"5",placeholder:"Descripción"},domProps:{value:e.tarea.descripcion},on:{input:function(t){t.target.composing||e.$set(e.tarea,"descripcion",t.target.value)}}}),a("b-button",{staticClass:"btn-success my-2 btn-block",attrs:{type:"@submit"}},[e._v(" Agregar ")])],1),e._l(e.tareas,(function(t,r){return a("div",{key:r,staticClass:"card-deck"},[a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:"",alt:""}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.nombre))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.descripcion))])]),a("div",{staticClass:"card-footer"},[a("small",{staticClass:"text-muted mx-4"},[e._v("Tarea creada el: "+e._s(t.date))]),a("i",{staticClass:"fas fa-trash mx-2 float-right",on:{click:function(a){return e.eliminarTarea(t._id)}}}),a("i",{staticClass:"fas fa-edit float-right",on:{click:function(a){return e.activarTarea(t._id)}}})])])])}))],2)},s=[],n=a("5530"),o=(a("c740"),a("a434"),a("2f62")),i={data:function(){return{tareas:[],mensaje:{color:"",texto:""},dismissSecs:5,dismissCountDown:0,tarea:{nombre:"",descripcion:""},editar:!1,tareaEditar:{}}},computed:Object(n["a"])({},Object(o["d"])(["token"])),created:function(){this.listarTareas()},methods:{alerta:function(){this.mensaje.color="success",this.mensaje.texto="Probando alerta",this.showAlert()},listarTareas:function(){var e=this,t={headers:{token:this.token}};this.axios.get("/tareas",t).then((function(t){console.log(t),e.tareas=t.data})).catch((function(e){console.log(e.response)}))},agregaTarea:function(){var e=this,t={headers:{token:this.token}};this.axios.post("/nueva-tarea",this.tarea,t).then((function(t){e.tareas.push(t.data),e.tarea.nombre="",e.tarea.descripcion="",e.mensaje.color="success",e.mensaje.texto="Tarea agregada",e.showAlert()})).catch((function(t){console.log(t.response),e.mensaje.color="danger",e.mensaje.texto="PRUEBA",e.showAlert(),t.response.data.error.errors.nombre.message?e.mensaje.texto=t.response.data.error.errors.nombre.message:(e.mensaje.texto="error del sistema",e.mensaje.color="danger")}))},eliminarTarea:function(e){var t=this;console.log(e),this.axios.delete("/tarea/".concat(e)).then((function(e){var a=t.tareas.findIndex((function(t){return t._id===e.data._id}));t.tareas.splice(a,1),t.mensaje.color="success",t.mensaje.texto="Tarea eliminada",t.showAlert()})).catch((function(e){console.log(e.response)}))},activarTarea:function(e){var t=this;this.editar=!0,console.log(e),this.axios.get("/tarea/".concat(e)).then((function(e){t.tareaEditar=e.data})).catch((function(e){console.log(e.response)}))},editarTarea:function(e){var t=this;this.axios.put("/tarea/".concat(e._id),e).then((function(e){var a=t.tareas.findIndex((function(t){return t._id===e.data._id}));t.tareas[a].nombre=e.data.nombre,t.tareas[a].descripcion=e.data.descripcion,t.mensaje.color="success",t.mensaje.texto="Tarea editada",t.showAlert(),t.editar=!1})).catch((function(e){console.log(e.response)}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},c=i,d=(a("e7e3"),a("2877")),l=Object(d["a"])(c,r,s,!1,null,"53add15b",null);t["default"]=l.exports},"0d6b":function(e,t,a){},a434:function(e,t,a){"use strict";var r=a("23e7"),s=a("23cb"),n=a("a691"),o=a("50c4"),i=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=l("splice"),m=Math.max,f=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,r,l,u,v,g,b=i(this),x=o(b.length),w=s(e,x),_=arguments.length;if(0===_?a=r=0:1===_?(a=0,r=x-w):(a=_-2,r=f(m(n(t),0),x-w)),x+a-r>p)throw TypeError(h);for(l=c(b,r),u=0;u<r;u++)v=w+u,v in b&&d(l,u,b[v]);if(l.length=r,a<r){for(u=w;u<x-r;u++)v=u+r,g=u+a,v in b?b[g]=b[v]:delete b[g];for(u=x;u>x-r+a;u--)delete b[u-1]}else if(a>r)for(u=x-r;u>w;u--)v=u+r-1,g=u+a-1,v in b?b[g]=b[v]:delete b[g];for(u=0;u<a;u++)b[u+w]=arguments[u+2];return b.length=x-r+a,l}})},c740:function(e,t,a){"use strict";var r=a("23e7"),s=a("b727").findIndex,n=a("44d2"),o="findIndex",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n(o)},e7e3:function(e,t,a){"use strict";a("0d6b")}}]);
//# sourceMappingURL=chunk-3f305986.9d4e4ed4.js.map